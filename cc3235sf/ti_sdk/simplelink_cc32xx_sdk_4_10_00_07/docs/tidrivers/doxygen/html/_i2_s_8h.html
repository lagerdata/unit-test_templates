<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>I2S.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2298ed0e5bfee6f293aea6c715ac7f7c.html">exports</a></li><li class="navelem"><a class="el" href="dir_f980dfa2069855638b0cd8c57f735ca5.html">tidrivers_cc32xx</a></li><li class="navelem"><a class="el" href="dir_1f993ecc1be2c92f22fa996028484d25.html">source</a></li><li class="navelem"><a class="el" href="dir_7d5e4df8250b3628ec18e3540c26d41f.html">ti</a></li><li class="navelem"><a class="el" href="dir_9983ac6a1abe9238d230cdfb8f047d3c.html">drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">I2S.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Inter-Integrated Circuit Sound (I2S) Bus Driver. </p>
<hr/>
<p>The I2S header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i2_s_8h.html">ti/drivers/I2S.h</a>&gt;</span></div></div><!-- fragment --><p><a class="anchor" id="ti_drivers_I2S_Overview"></a></p><h1>Overview</h1>
<p>The I2S driver facilitates the use of Inter-IC Sound (I2S), which is used to connect digital audio devices so that audio signals can be communicated between devices. The I2S driver simplifies reading and writing to any of the Multichannel Audio Serial Port (McASP) peripherals on the board with Receive and Transmit support. These include read and write characters on the McASP peripheral.</p>
<p>I2S interfaces typically consist of 4 or 5 signals. The 5th signal is not systematically used. </p><ul>
<li><b>Serial Clock (SCK)</b> also called Bit Clock (BCLK) or Multichannel Audio Frame Synchronization (McAFSX) </li>
<li><b>Word Select (WS)</b> also called Word Clock (WCLK), Left Right Clock (LRCLK) or Multichannel Audio Clock (McACLK) </li>
<li><b>Serial Data (SD0)</b> also called AD0, AD1, McAXR0, or possibly SDI </li>
<li><b>Serial Data (SD1)</b> also called AD1, ADI, McAXR1, or possibly SDI </li>
<li><b>Master Clock (MCLK)</b></li>
</ul>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Usage"></a></p><h1>Usage</h1>
<p><b>The I2S driver provides the following APIs:</b> </p><ul>
<li><a class="el" href="_i2_s_8h.html#a79e8fdf40ee80c49b2cac09a3e428a82" title="Function to initializes the I2S module. ">I2S_init()</a>: Function to initializes the I2S module. </li>
<li><a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb" title="Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. ">I2S_open()</a>: Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. </li>
<li><a class="el" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5" title="Function to initialize the I2S_Params struct to its defaults. ">I2S_Params_init()</a>: Function to initialize the <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> struct to its defaults. </li>
<li><a class="el" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0" title="Initialize an I2S_Transaction struct to known state. ">I2S_Transaction_init()</a>: Initialize an <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> struct to known state. </li>
<li><a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a>: Function to set the first read-transaction to consider. </li>
<li><a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a>: Function to set the first write-transaction to consider. </li>
<li><a class="el" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5" title="Start the WS, SCK and MCLK clocks. ">I2S_startClocks()</a>: Start the WS, SCK and MCLK clocks. </li>
<li><a class="el" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f" title="Start read transactions. ">I2S_startRead()</a>: Start read transactions. </li>
<li><a class="el" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30" title="Start write transactions. ">I2S_startWrite()</a>: Start write transactions. </li>
<li><a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a>: Stop read transactions. </li>
<li><a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a>: Stop write transactions. </li>
<li><a class="el" href="_i2_s_8h.html#a3c929c2811ba58180ef57abbb33d3ec5" title="Stops the WS, SCK and MCLK clocks. ">I2S_stopClocks()</a>: Stops the WS, SCK and MCLK clocks. </li>
<li><a class="el" href="_i2_s_8h.html#a111a6b44f868cf90f7b25ced9f22ae1b" title="Function to close a given I2S peripheral specified by the I2S handle. ">I2S_close()</a>: Function to close a given I2S peripheral specified by the I2S handle.</li>
</ul>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Driver_Transactions"></a></p><h3>Transactions</h3>
<p>Data transfers are achieved through <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> structures. Application is responsible to maintain the transactions queues. The I2S driver completes the transactions one by one. When a transaction is over, the I2S driver takes in consideration the next transaction (if the next transaction is NULL, the I2S drivers signals this to the user). The I2S driver relies on the following fields of the <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> to complete it:</p><ul>
<li>the buffer</li>
<li>the length of the buffer</li>
<li>a pointer on the next transaction to achieve (kept in a List_Elem structure)</li>
</ul>
<p>The I2S driver provides the following elements (fields of the <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a>):</p><ul>
<li>the number of untransferred bytes: the driver is designed to avoid memory corruption and will not complete an incomplete transaction (meaning a transaction where the buffer size would not permit to send or receive a whole number of samples). In this case, the system considers the samples of the beginning of the buffer and read/write as much as possible samples and ignore the end of the buffer. The number of untransafered bytes is the number of bytes left at the end of the buffer)</li>
<li>the number of completions of the transaction. This value is basically incremented by one every time the transaction is completed.</li>
</ul>
<p>Please note that these two fields are valid only when the transaction has been completed. Consult examples to get more details on the transaction usage.</p>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Driver_ProvidingData"></a></p><h3>Providing data to the I2S driver</h3>
<p>Application is responsible to handle the queues of transactions. Application is also responsible to provide to the driver a pointer on the first transaction to consider (considering that all the following transactions are correctly queued). <a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a> and <a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a> allow the user to set the first transaction to consider. These functions should be used only when no transaction is running on the considered interface.</p>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Driver_StartStopClocks"></a></p><h3>Start and stop clocks and transactions</h3>
<p>Clocks can be started and stopped by the application. Read and write can be started and stopped independently. To start a transfer, clocks must be running. To stop the clocks no transfer must be running. Refer to the following functions for more details: </p><ul>
<li><a class="el" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5" title="Start the WS, SCK and MCLK clocks. ">I2S_startClocks()</a> </li>
<li><a class="el" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f" title="Start read transactions. ">I2S_startRead()</a> </li>
<li><a class="el" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30" title="Start write transactions. ">I2S_startWrite()</a> </li>
<li><a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a> </li>
<li><a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a> </li>
<li><a class="el" href="_i2_s_8h.html#a3c929c2811ba58180ef57abbb33d3ec5" title="Stops the WS, SCK and MCLK clocks. ">I2S_stopClocks()</a></li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>In <a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0a2e9b49c09201c26bec35c9b854b09e08">I2S_SLAVE</a> mode, clocks must be started and stopped exactly like it is done in <a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0a10b52b2d09a9f58e2daeec0f5a392bea">I2S_MASTER</a> mode. </li>
<li>If the queue of transaction is not empty, the calls to <a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a> and <a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a> are blocking and potentially long.</li>
</ul>
<hr/>
 <a class="anchor" id="ti_drivers_I2S_Examples"></a><h2>Examples</h2>
</dd></dl>
<ul>
<li><a class="el" href="_i2_s_8h.html#ti_drivers_I2S_Example_PlayAndStop">Play and Stop</a> </li>
<li><a class="el" href="_i2_s_8h.html#ti_drivers_I2S_Example_Streaming">Streaming</a> </li>
<li><a class="el" href="_i2_s_8h.html#ti_drivers_I2S_Example_RepeatMode">Repeat</a></li>
</ul>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_PlayAndStop"></a></p><h3>Mode Play and Stop</h3>
<p>The following example shows how to simultaneously receive and send out a given amount of data.</p>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_PlayAndStop_Code"></a></p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___config.html">I2S_Handle</a> i2sHandle;</div><div class="line"></div><div class="line"><span class="keyword">static</span> uint16_t readBuf1[500]; <span class="comment">// the data read will end up in this buffer</span></div><div class="line"><span class="keyword">static</span> uint16_t readBuf2[500]; <span class="comment">// the data read will end up in this buffer</span></div><div class="line"><span class="keyword">static</span> uint16_t readBuf3[500]; <span class="comment">// the data read will end up in this buffer</span></div><div class="line"><span class="keyword">static</span> uint16_t writeBuf1[250] = {...some data...}; <span class="comment">// this buffer will be sent out</span></div><div class="line"><span class="keyword">static</span> uint16_t writeBuf2[250] = {...some data...}; <span class="comment">// this buffer will be sent out</span></div><div class="line"><span class="keyword">static</span> uint16_t writeBuf3[250] = {...some data...}; <span class="comment">// this buffer will be sent out</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead1;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead2;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead3;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite1;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite2;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite3;</div><div class="line"></div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sReadList;</div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sWriteList;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> readStopped = (bool)<span class="keyword">true</span>;</div><div class="line"><span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> writeStopped = (bool)<span class="keyword">true</span>;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> writeCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(status &amp; <a class="code" href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc">I2S_ALL_TRANSACTIONS_SUCCESS</a>){</div><div class="line"></div><div class="line">        <span class="comment">// Note: Here we do not queue new transfers or set a new queue-head.</span></div><div class="line">        <span class="comment">// The driver will stop sending out data on its own.</span></div><div class="line">        writeStopped = (bool)<span class="keyword">true</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> readCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(status &amp; <a class="code" href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc">I2S_ALL_TRANSACTIONS_SUCCESS</a>){</div><div class="line"></div><div class="line">        <span class="comment">// Note: Here we do not queue new transfers or set a new queue-head.</span></div><div class="line">        <span class="comment">// The driver will stop receiving data on its own.</span></div><div class="line">        readStopped = (bool)<span class="keyword">true</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> errCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// Handle the I2S error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> *modePlayAndStopThread(<span class="keywordtype">void</span> *arg0)</div><div class="line">{</div><div class="line">    <a class="code" href="struct_i2_s___params.html">I2S_Params</a> i2sParams;</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a79e8fdf40ee80c49b2cac09a3e428a82">I2S_init</a>();</div><div class="line"></div><div class="line">    <span class="comment">// Initialize I2S opening parameters</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5">I2S_Params_init</a>(&amp;i2sParams);</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#ae3241f138f3e247875ef9686622b4d43">fixedBufferLength</a>     =  500; <span class="comment">// fixedBufferLength is the greatest common</span></div><div class="line">                                            <span class="comment">// divisor of all the different buffers</span></div><div class="line">                                            <span class="comment">// (here buffers&#39; size are 500 and 1000 bytes)</span></div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a2cf905e275e93a49707613aedcb2ab9b">writeCallback</a>         =  writeCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a94ed67cfe1320bd8daf013c132b907cc">readCallback</a>          =  readCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#aa12b8175a33bc574818208f4ccb8540d">errorCallback</a>         =  errCallbackFxn;</div><div class="line"></div><div class="line">    i2sHandle = <a class="code" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb">I2S_open</a>(CONFIG_I2S0, &amp;i2sParams);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the read-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead1);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead2);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead3);</div><div class="line">    i2sRead1.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf1;</div><div class="line">    i2sRead2.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf2;</div><div class="line">    i2sRead3.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf3;</div><div class="line">    i2sRead1.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf1);</div><div class="line">    i2sRead2.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf2);</div><div class="line">    i2sRead3.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf3);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead1);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead2);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead3);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082">I2S_setReadQueueHead</a>(i2sHandle, &amp;i2sRead1);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the write-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite1);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite2);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite3);</div><div class="line">    i2sWrite1.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf1;</div><div class="line">    i2sWrite2.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf2;</div><div class="line">    i2sWrite3.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf3;</div><div class="line">    i2sWrite1.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf1);</div><div class="line">    i2sWrite2.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf2);</div><div class="line">    i2sWrite3.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf3);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite1);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite2);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite3);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f">I2S_setWriteQueueHead</a>(i2sHandle, &amp;i2sWrite1);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5">I2S_startClocks</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30">I2S_startWrite</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f">I2S_startRead</a>(i2sHandle);</div><div class="line"></div><div class="line">    readStopped = (bool)<span class="keyword">false</span>;</div><div class="line">    writeStopped = (bool)<span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1) {</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(readStopped &amp;&amp; writeStopped) {</div><div class="line">            <a class="code" href="_i2_s_8h.html#a3c929c2811ba58180ef57abbb33d3ec5">I2S_stopClocks</a>(i2sHandle);</div><div class="line">            <a class="code" href="_i2_s_8h.html#a111a6b44f868cf90f7b25ced9f22ae1b">I2S_close</a>(i2sHandle);</div><div class="line">            <span class="keywordflow">while</span> (1);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If you desire to put only one transaction in the queue, fixedBufferLength must be inferior to half the length (in bytes) of the buffer to transfer.</dd></dl>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_Streaming"></a></p><h3>Writing Data in Continuous Streaming Mode</h3>
<p>The following example shows how to read and write data in streaming mode. A dummy treatment of the data is also done. This example is not complete (semaphore and tasks creation are not shown)</p>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_Streaming_Code"></a></p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___config.html">I2S_Handle</a> i2sHandle;</div><div class="line"><span class="keyword">static</span> sem_t semDataReadyForTreatment;</div><div class="line"></div><div class="line"><span class="comment">// These buffers will successively be written, treated and sent out</span></div><div class="line"><span class="keyword">static</span> uint16_t readBuf1[500];</div><div class="line"><span class="keyword">static</span> uint16_t readBuf2[500];</div><div class="line"><span class="keyword">static</span> uint16_t readBuf3[500];</div><div class="line"><span class="keyword">static</span> uint16_t readBuf4[500];</div><div class="line"><span class="keyword">static</span> uint16_t writeBuf1[500]={0};</div><div class="line"><span class="keyword">static</span> uint16_t writeBuf2[500]={0};</div><div class="line"><span class="keyword">static</span> uint16_t writeBuf3[500]={0};</div><div class="line"><span class="keyword">static</span> uint16_t writeBuf4[500]={0};</div><div class="line"></div><div class="line"><span class="comment">// These transactions will successively be part of the</span></div><div class="line"><span class="comment">// i2sReadList, the treatmentList and the i2sWriteList</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead1;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead2;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead3;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead4;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite1;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite2;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite3;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite4;</div><div class="line"></div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sReadList;</div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> treatmentList;</div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sWriteList;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> writeCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// We must remove the previous transaction (the current one is not over)</span></div><div class="line">    <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionFinished = (<a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>*)<a class="code" href="_list_8h.html#af0834d0f68b1adcf8c1d4f2fb10276fc">List_prev</a>(&amp;transactionPtr-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(transactionFinished != NULL){</div><div class="line">        <span class="comment">// Remove the finished transaction from the write queue</span></div><div class="line">        <a class="code" href="_list_8h.html#a480146af207e00199372c66edb4d9960">List_remove</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)transactionFinished);</div><div class="line"></div><div class="line">        <span class="comment">// This transaction must now feed the read queue (we do not need anymore the data of this transaction)</span></div><div class="line">        transactionFinished-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>.<a class="code" href="struct_list___elem__.html#a3472db6d50d5191700bdf1670fdef9c5">next</a> = NULL;</div><div class="line">        <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)transactionFinished);</div><div class="line"></div><div class="line">        <span class="comment">// We need to queue a new transaction: let&#39;s take one in the treatment queue</span></div><div class="line">        <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *newTransaction = (<a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>*)<a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;treatmentList);</div><div class="line">        <span class="keywordflow">if</span>(newTransaction != NULL){</div><div class="line">            <a class="code" href="_list_8h.html#a480146af207e00199372c66edb4d9960">List_remove</a>(&amp;treatmentList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)newTransaction);</div><div class="line">            newTransaction-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>.<a class="code" href="struct_list___elem__.html#a3472db6d50d5191700bdf1670fdef9c5">next</a> = NULL;</div><div class="line">            <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)newTransaction);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> readCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// We must remove the previous transaction (the current one is not over)</span></div><div class="line">    <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionFinished = (<a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>*)<a class="code" href="_list_8h.html#af0834d0f68b1adcf8c1d4f2fb10276fc">List_prev</a>(&amp;transactionPtr-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(transactionFinished != NULL){</div><div class="line">        <span class="comment">// The finished transaction contains data that must be treated</span></div><div class="line">        <a class="code" href="_list_8h.html#a480146af207e00199372c66edb4d9960">List_remove</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)transactionFinished);</div><div class="line">        transactionFinished-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>.<a class="code" href="struct_list___elem__.html#a3472db6d50d5191700bdf1670fdef9c5">next</a> = NULL;</div><div class="line">        <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;treatmentList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)transactionFinished);</div><div class="line"></div><div class="line">        <span class="comment">// Start the treatment of the data</span></div><div class="line">        sem_post(&amp;semDataReadyForTreatment);</div><div class="line"></div><div class="line">        <span class="comment">// We do not need to queue transaction here: writeCallbackFxn takes care of this :)</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> errCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// Handle the I2S error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> *echoExampleThread(<span class="keywordtype">void</span> *arg0)</div><div class="line">{</div><div class="line">    <a class="code" href="struct_i2_s___params.html">I2S_Params</a> i2sParams;</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a79e8fdf40ee80c49b2cac09a3e428a82">I2S_init</a>();</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> retc = sem_init(&amp;semDataReadyForTreatment, 0, 0);</div><div class="line">    <span class="keywordflow">if</span> (retc == -1) {</div><div class="line">        <span class="keywordflow">while</span> (1);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the treatmentList (this list is initially empty)</span></div><div class="line">    <a class="code" href="_list_8h.html#a32d4e53da70142cec310cfa0006f146a">List_clearList</a>(&amp;treatmentList);</div><div class="line"></div><div class="line">    <span class="comment">//Initialize I2S opening parameters</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5">I2S_Params_init</a>(&amp;i2sParams);</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#ae3241f138f3e247875ef9686622b4d43">fixedBufferLength</a>     =  1000;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a2cf905e275e93a49707613aedcb2ab9b">writeCallback</a>         =  writeCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a94ed67cfe1320bd8daf013c132b907cc">readCallback</a>          =  readCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#aa12b8175a33bc574818208f4ccb8540d">errorCallback</a>         =  errCallbackFxn;</div><div class="line"></div><div class="line">    i2sHandle = <a class="code" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb">I2S_open</a>(CONFIG_I2S0, &amp;i2sParams);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the read-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead1);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead2);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead3);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead4);</div><div class="line">    i2sRead1.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf1;</div><div class="line">    i2sRead2.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf2;</div><div class="line">    i2sRead3.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf3;</div><div class="line">    i2sRead4.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf4;</div><div class="line">    i2sRead1.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf1);</div><div class="line">    i2sRead2.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf2);</div><div class="line">    i2sRead3.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf3);</div><div class="line">    i2sRead4.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf4);</div><div class="line">    <a class="code" href="_list_8h.html#a32d4e53da70142cec310cfa0006f146a">List_clearList</a>(&amp;i2sReadList);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead1);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead2);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead3);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead4);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082">I2S_setReadQueueHead</a>(i2sHandle, &amp;i2sRead1);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the write-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite1);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite2);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite3);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite4);</div><div class="line">    i2sWrite1.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf1;</div><div class="line">    i2sWrite2.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf2;</div><div class="line">    i2sWrite3.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf3;</div><div class="line">    i2sWrite4.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf4;</div><div class="line">    i2sWrite1.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf1);</div><div class="line">    i2sWrite2.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf2);</div><div class="line">    i2sWrite3.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf3);</div><div class="line">    i2sWrite4.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf4);</div><div class="line">    <a class="code" href="_list_8h.html#a32d4e53da70142cec310cfa0006f146a">List_clearList</a>(&amp;i2sWriteList);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite1);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite2);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite3);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite4);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f">I2S_setWriteQueueHead</a>(i2sHandle, &amp;i2sWrite1);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5">I2S_startClocks</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30">I2S_startWrite</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f">I2S_startRead</a>(i2sHandle);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1) {</div><div class="line">        uint8_t k = 0;</div><div class="line">        <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>* lastAchievedReadTransaction = NULL;</div><div class="line"></div><div class="line">        retc = sem_wait(&amp;semDataReadyForTreatment);</div><div class="line">        <span class="keywordflow">if</span> (retc == -1) {</div><div class="line">            <span class="keywordflow">while</span> (1);</div><div class="line">        }</div><div class="line"></div><div class="line">        lastAchievedReadTransaction = (<a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>*) <a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;treatmentList);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(lastAchievedReadTransaction != NULL) {</div><div class="line"></div><div class="line">            <span class="comment">// Need a critical section to be sure to have corresponding bufPtr and bufSize</span></div><div class="line">            uintptr_t key = HwiP_disable();</div><div class="line">            uint16_t *buf = lastAchievedReadTransaction-&gt;<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>;</div><div class="line">            uint16_t bufLength = lastAchievedReadTransaction-&gt;<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a> / <span class="keyword">sizeof</span>(uint16_t);</div><div class="line">            HwiP_restore(key);</div><div class="line"></div><div class="line">            <span class="comment">// My dummy data treatment...</span></div><div class="line">            <span class="keywordflow">for</span>(k=0; k&lt;bufLength; k++) {</div><div class="line">                buf[k]--;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">for</span>(k=0; k&lt;bufLength; k++) {</div><div class="line">                buf[k]++;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_RepeatMode"></a></p><h3>Writing Data in repeat Mode</h3>
<p>The following example shows how to read and write data in repeat mode. The same buffers are continuously written and send out while the driver is not stopped. Here, we decide to only stop sending out after an arbitrary number of sending.</p>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Example_RepeatMode_Code"></a></p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___config.html">I2S_Handle</a> i2sHandle;</div><div class="line"></div><div class="line"><span class="comment">// This buffer will be continuously re-written</span></div><div class="line"><span class="keyword">static</span> uint16_t readBuf[500];</div><div class="line"><span class="comment">// This data will be continuously sent out</span></div><div class="line"><span class="keyword">static</span> uint16_t writeBuf[500] = {...some cool data...};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sRead;</div><div class="line"><span class="keyword">static</span> <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> i2sWrite;</div><div class="line"></div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sReadList;</div><div class="line"><a class="code" href="struct_list___list.html">List_List</a> i2sWriteList;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> writeFinished = (bool)<span class="keyword">false</span>;</div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> writeCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// Nothing to do here: the buffer(s) are queued in a ring list, the transfers are</span></div><div class="line">    <span class="comment">// executed without any action from the application.</span></div><div class="line"></div><div class="line">    <span class="comment">// We must consider the previous transaction (ok, when you have only one transaction it&#39;s the same)</span></div><div class="line">    <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionFinished = (<a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a>*)<a class="code" href="_list_8h.html#af0834d0f68b1adcf8c1d4f2fb10276fc">List_prev</a>(&amp;transactionPtr-&gt;<a class="code" href="struct_i2_s___transaction.html#af3845aa9cddc6c3c587f19c1c77ce1d8">queueElement</a>);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(transactionFinished != NULL){</div><div class="line">        <span class="comment">// After an arbitrary number of completion of the transaction, we will stop writting</span></div><div class="line">        <span class="keywordflow">if</span>(transactionFinished-&gt;<a class="code" href="struct_i2_s___transaction.html#ad43a81fc718af43129be039ee68f1346">numberOfCompletions</a> &gt;= 10) {</div><div class="line"></div><div class="line">            <span class="comment">// Note: You cannot use I2S_stopRead() / I2S_stopWrite() in the callback.</span></div><div class="line">            <span class="comment">// The execution of these functions is potentially blocking and can mess up the</span></div><div class="line">            <span class="comment">// system.</span></div><div class="line"></div><div class="line">            writeFinished = (bool)<span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> readCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line">    <span class="comment">// Nothing to do here: the buffer(s) are queued in a ring list, the transfers are</span></div><div class="line">    <span class="comment">// executed without any action from the application.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> errCallbackFxn(<a class="code" href="struct_i2_s___config.html">I2S_Handle</a> handle, int_fast16_t status, <a class="code" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr) {</div><div class="line"></div><div class="line">    <span class="comment">// Handle the I2S error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> *modeRepeat(<span class="keywordtype">void</span> *arg0)</div><div class="line">{</div><div class="line">    <a class="code" href="struct_i2_s___params.html">I2S_Params</a> i2sParams;</div><div class="line"></div><div class="line">    <span class="comment">// Initialize I2S opening parameters</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5">I2S_Params_init</a>(&amp;i2sParams);</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#ae3241f138f3e247875ef9686622b4d43">fixedBufferLength</a>     =  1000; <span class="comment">// No problem here: the driver consider</span></div><div class="line">                                             <span class="comment">// the list as an infinite list.</span></div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a2cf905e275e93a49707613aedcb2ab9b">writeCallback</a>         =  writeCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#a94ed67cfe1320bd8daf013c132b907cc">readCallback</a>          =  readCallbackFxn ;</div><div class="line">    i2sParams.<a class="code" href="struct_i2_s___params.html#aa12b8175a33bc574818208f4ccb8540d">errorCallback</a>         =  errCallbackFxn;</div><div class="line"></div><div class="line">    i2sHandle = <a class="code" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb">I2S_open</a>(CONFIG_I2S0, &amp;i2sParams);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the read-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sRead);</div><div class="line">    i2sRead.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>            = readBuf;</div><div class="line">    i2sRead.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>           = <span class="keyword">sizeof</span>(readBuf);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sReadList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sRead);</div><div class="line">    <a class="code" href="_list_8h.html#a04432014c20d52c680076e3613aa68da">List_tail</a>(&amp;i2sReadList)-&gt;<a class="code" href="struct_list___elem__.html#a3472db6d50d5191700bdf1670fdef9c5">next</a> = <a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;i2sReadList);<span class="comment">// Read buffers are queued in a ring-list</span></div><div class="line">    <a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;i2sReadList)-&gt;<a class="code" href="struct_list___elem__.html#ae18320a0fdbf1d4044518fde458c0c3e">prev</a> = <a class="code" href="_list_8h.html#a04432014c20d52c680076e3613aa68da">List_tail</a>(&amp;i2sReadList);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082">I2S_setReadQueueHead</a>(i2sHandle, &amp;i2sRead);</div><div class="line"></div><div class="line">    <span class="comment">// Initialize the write-transactions</span></div><div class="line">    <a class="code" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a>(&amp;i2sWrite);</div><div class="line">    i2sWrite.<a class="code" href="struct_i2_s___transaction.html#a70113860dcc951988c368cffc515fba4">bufPtr</a>           = writeBuf;</div><div class="line">    i2sWrite.<a class="code" href="struct_i2_s___transaction.html#af47a4404eed157d9baa6a538aea74862">bufSize</a>          = <span class="keyword">sizeof</span>(writeBuf);</div><div class="line">    <a class="code" href="_list_8h.html#a1608b5d7dc712fcf01dc5d837e22078a">List_put</a>(&amp;i2sWriteList, (<a class="code" href="struct_list___elem__.html">List_Elem</a>*)&amp;i2sWrite);</div><div class="line">    <a class="code" href="_list_8h.html#a04432014c20d52c680076e3613aa68da">List_tail</a>(&amp;i2sWriteList)-&gt;<a class="code" href="struct_list___elem__.html#a3472db6d50d5191700bdf1670fdef9c5">next</a> = <a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;i2sWriteList); <span class="comment">// Write buffers are queued in a ring-list</span></div><div class="line">    <a class="code" href="_list_8h.html#a7eeb8ffe91673aa56fdd1c552c6435b6">List_head</a>(&amp;i2sWriteList)-&gt;<a class="code" href="struct_list___elem__.html#ae18320a0fdbf1d4044518fde458c0c3e">prev</a> = <a class="code" href="_list_8h.html#a04432014c20d52c680076e3613aa68da">List_tail</a>(&amp;i2sWriteList);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f">I2S_setWriteQueueHead</a>(i2sHandle, &amp;i2sWrite);</div><div class="line"></div><div class="line">    <a class="code" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5">I2S_startClocks</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30">I2S_startWrite</a>(i2sHandle);</div><div class="line">    <a class="code" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f">I2S_startRead</a>(i2sHandle);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1) {</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(writeFinished){</div><div class="line">            writeFinished = (bool)<span class="keyword">false</span>;</div><div class="line">            <a class="code" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31">I2S_stopWrite</a>(i2sHandle);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>In the case of circular lists, there is no problem to put only one buffer in the queue.</dd></dl>
<hr/>
<p> <a class="anchor" id="ti_drivers_I2S_Configuration"></a></p><h1>Configuration</h1>
<p>Refer to the <a class="el" href="index.html#driver_configuration">Driver's Configuration</a> section for driver configuration information. </p><hr/>
 </div><div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_list_8h_source.html">ti/drivers/utils/List.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for I2S.h:</div>
<div class="dyncontent">
<div class="center"><img src="_i2_s_8h__incl.png" border="0" usemap="#_i2_s_8h" alt=""/></div>
<map name="_i2_s_8h" id="_i2_s_8h">
<area shape="rect" id="node5" href="_list_8h.html" title="Linked List interface for use in drivers. " alt="" coords="57,80,193,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_i2_s_8h__dep__incl.png" border="0" usemap="#_i2_s_8hdep" alt=""/></div>
<map name="_i2_s_8hdep" id="_i2_s_8hdep">
<area shape="rect" id="node2" href="_i2_s_c_c32_x_x_8h.html" title="I2S driver implementation for a CC32XX I2S controller. " alt="" coords="5,80,111,107"/>
</map>
</div>
</div>
<p><a href="_i2_s_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_s___config.html">I2S_Config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S Global configuration.  <a href="struct_i2_s___config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S transaction descriptor.  <a href="struct_i2_s___transaction.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_s___params.html">I2S_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic I2S Parameters.  <a href="struct_i2_s___params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab6513a393fed75b7c1b507d5ec9047fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc">I2S_ALL_TRANSACTIONS_SUCCESS</a>&#160;&#160;&#160;(0x0001U)</td></tr>
<tr class="memdesc:gab6513a393fed75b7c1b507d5ec9047fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Successful status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc">More...</a><br /></td></tr>
<tr class="separator:gab6513a393fed75b7c1b507d5ec9047fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8265d03e72406770257a834e377247b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#gac8265d03e72406770257a834e377247b">I2S_TRANSACTION_SUCCESS</a>&#160;&#160;&#160;(0x0002U)</td></tr>
<tr class="memdesc:gac8265d03e72406770257a834e377247b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Successful status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#gac8265d03e72406770257a834e377247b">More...</a><br /></td></tr>
<tr class="separator:gac8265d03e72406770257a834e377247b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga815abf87dfe4353e42bea24940f45d75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#ga815abf87dfe4353e42bea24940f45d75">I2S_TIMEOUT_ERROR</a>&#160;&#160;&#160;(0x0100U)</td></tr>
<tr class="memdesc:ga815abf87dfe4353e42bea24940f45d75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#ga815abf87dfe4353e42bea24940f45d75">More...</a><br /></td></tr>
<tr class="separator:ga815abf87dfe4353e42bea24940f45d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeff50b687883296e143e5da70102a915"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#gaeff50b687883296e143e5da70102a915">I2S_BUS_ERROR</a>&#160;&#160;&#160;(0x0200U)</td></tr>
<tr class="memdesc:gaeff50b687883296e143e5da70102a915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#gaeff50b687883296e143e5da70102a915">More...</a><br /></td></tr>
<tr class="separator:gaeff50b687883296e143e5da70102a915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9cb86b261eb8a0abcfc19091f46385a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#gab9cb86b261eb8a0abcfc19091f46385a">I2S_WS_ERROR</a>&#160;&#160;&#160;(0x0400U)</td></tr>
<tr class="memdesc:gab9cb86b261eb8a0abcfc19091f46385a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#gab9cb86b261eb8a0abcfc19091f46385a">More...</a><br /></td></tr>
<tr class="separator:gab9cb86b261eb8a0abcfc19091f46385a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50be1b2cc5cef182aff769f626eb6e2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#ga50be1b2cc5cef182aff769f626eb6e2f">I2S_PTR_READ_ERROR</a>&#160;&#160;&#160;(0x0800U)</td></tr>
<tr class="memdesc:ga50be1b2cc5cef182aff769f626eb6e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#ga50be1b2cc5cef182aff769f626eb6e2f">More...</a><br /></td></tr>
<tr class="separator:ga50be1b2cc5cef182aff769f626eb6e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb0dde45fe8df930d9914a100fbfcef8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s___s_t_a_t_u_s.html#gacb0dde45fe8df930d9914a100fbfcef8">I2S_PTR_WRITE_ERROR</a>&#160;&#160;&#160;(0x1000U)</td></tr>
<tr class="memdesc:gacb0dde45fe8df930d9914a100fbfcef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error status code returned by I2S driver functions.  <a href="group___i2_s___s_t_a_t_u_s.html#gacb0dde45fe8df930d9914a100fbfcef8">More...</a><br /></td></tr>
<tr class="separator:gacb0dde45fe8df930d9914a100fbfcef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9994d996a1bb13482957494f5d9999c1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_i2_s___config.html">I2S_Config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a></td></tr>
<tr class="memdesc:a9994d996a1bb13482957494f5d9999c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handle that is returned from a <a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb" title="Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. ">I2S_open()</a> call.  <a href="#a9994d996a1bb13482957494f5d9999c1">More...</a><br /></td></tr>
<tr class="separator:a9994d996a1bb13482957494f5d9999c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011a6a344bae2163e24b811e75c76fde"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a011a6a344bae2163e24b811e75c76fde">I2S_Callback</a>) (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle, int_fast16_t status, <a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr)</td></tr>
<tr class="memdesc:a011a6a344bae2163e24b811e75c76fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">The definition of a user-callback function used by the I2S driver.  <a href="#a011a6a344bae2163e24b811e75c76fde">More...</a><br /></td></tr>
<tr class="separator:a011a6a344bae2163e24b811e75c76fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce338dedc6f90e9b86705ad6a2e3eea"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a7ce338dedc6f90e9b86705ad6a2e3eea">I2S_RegUpdate</a>) (uint32_t ui32Base, uint32_t ui32NextPointer)</td></tr>
<tr class="memdesc:a7ce338dedc6f90e9b86705ad6a2e3eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The definition of a function used to set the I2S register.  <a href="#a7ce338dedc6f90e9b86705ad6a2e3eea">More...</a><br /></td></tr>
<tr class="separator:a7ce338dedc6f90e9b86705ad6a2e3eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518f25dc99f76453c3ef7bfdb7fc390c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a518f25dc99f76453c3ef7bfdb7fc390c">I2S_StopInterface</a>) (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a518f25dc99f76453c3ef7bfdb7fc390c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The definition of a function used to stop an I2S interface.  <a href="#a518f25dc99f76453c3ef7bfdb7fc390c">More...</a><br /></td></tr>
<tr class="separator:a518f25dc99f76453c3ef7bfdb7fc390c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afc6b50bcb4c5bd0254c5efa0cdc14222"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222">I2S_MemoryLength</a> { <a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222a13e1dbc37a214b697892127dd14b39ec">I2S_MEMORY_LENGTH_8BITS</a> = 8U, 
<a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222aa95b67ba7278bcb1d9a64cba9a8e1bc8">I2S_MEMORY_LENGTH_16BITS</a> = 16U, 
<a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222acc56087b412f11af3dc890f066fac0b6">I2S_MEMORY_LENGTH_24BITS</a> = 24U, 
<a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222a926727054bff1f3cbe2540434d0fab42">I2S_MEMORY_LENGTH_32BITS</a> = 32U
 }<tr class="memdesc:afc6b50bcb4c5bd0254c5efa0cdc14222"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S slot memory length setting.  <a href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:afc6b50bcb4c5bd0254c5efa0cdc14222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ce68790d113be856f3a6840bc3ebe0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0">I2S_Role</a> { <a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0a2e9b49c09201c26bec35c9b854b09e08">I2S_SLAVE</a> = 0, 
<a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0a10b52b2d09a9f58e2daeec0f5a392bea">I2S_MASTER</a> = 1
 }<tr class="memdesc:a54ce68790d113be856f3a6840bc3ebe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S master / slave selection.  <a href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a54ce68790d113be856f3a6840bc3ebe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf99b8155252f529a3089cee99c52a51"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51">I2S_SamplingEdge</a> { <a class="el" href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51ac2b123abf8d93dc779178fd3ede764eb">I2S_SAMPLING_EDGE_FALLING</a> = 0, 
<a class="el" href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51a54900e14a06cfb9a08de7b1ed2583491">I2S_SAMPLING_EDGE_RISING</a> = 1
 }<tr class="memdesc:adf99b8155252f529a3089cee99c52a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S sampling setting.  <a href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:adf99b8155252f529a3089cee99c52a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9de87aff52f63eadf4a95560abd61f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61f">I2S_PhaseType</a> { <a class="el" href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61fabe139271fd1177a8b3e81156a966695d">I2S_PHASE_TYPE_SINGLE</a> = 0U, 
<a class="el" href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61fa0b3e4c2e6cca0317d05ec75b872b34de">I2S_PHASE_TYPE_DUAL</a> = 1U
 }<tr class="memdesc:a5d9de87aff52f63eadf4a95560abd61f"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S phase setting.  <a href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5d9de87aff52f63eadf4a95560abd61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6754868d365f8e3ec9b67883bf1a7e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7e">I2S_DataInterfaceUse</a> { <br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eaa745a9c11f2a2d74d1c6d001a32b355b">I2S_SD0_DISABLED</a> = 0x00U, 
<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eae0e5e7026b88277c279de0e798488e77">I2S_SD0_INPUT</a> = 0x01U, 
<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eab32df02fc78f8a4eabe6efa84fe3b28e">I2S_SD0_OUTPUT</a> = 0x02U, 
<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eaac2fb5fe175b0b96da5c7ea069ae48b6">I2S_SD1_DISABLED</a> = 0x00U, 
<br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eabc860688d07b2022d075448f597d7811">I2S_SD1_INPUT</a> = 0x10U, 
<a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7ea966016f222e7831b399aac26e4b8c7f0">I2S_SD1_OUTPUT</a> = 0x20U
<br />
 }<tr class="memdesc:a3b6754868d365f8e3ec9b67883bf1a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S data interface configuration.  <a href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a3b6754868d365f8e3ec9b67883bf1a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc9f53ca7fa3c96306f474cc0ade480"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480">I2S_ChannelConfig</a> { <br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480af29054f891314a79ee5d2b105678fce5">I2S_CHANNELS_NONE</a> = 0x00U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a9ae976eea3f03628bac96b3bd5b590a9">I2S_CHANNELS_MONO</a> = 0x01U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480ace24478308aa18581ea899b4749e1eee">I2S_CHANNELS_MONO_INV</a> = 0x02U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480aa99f621d20e7c434dd8fc6eec81f88f7">I2S_CHANNELS_STEREO</a> = 0x03U, 
<br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480aef21e0755c603bfa84cfcfb76087a2f9">I2S_1_CHANNEL</a> = 0x01U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a70296e535a023f5e486d169c56241938">I2S_2_CHANNELS</a> = 0x03U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480acde532a4455d55712113984d1d9d14ee">I2S_3_CHANNELS</a> = 0x07U, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a4de908d16fbc3997ca26f9daf0a1ab15">I2S_4_CHANNELS</a> = 0x0FU, 
<br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a4dbc52ac6e50657e77ab1a5663c9bebb">I2S_5_CHANNELS</a> = 0x1FU, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a6393bde043d2d9a820d0eaae3723390f">I2S_6_CHANNELS</a> = 0x3FU, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a3d28c1be7347c31842f949fce1b5c245">I2S_7_CHANNELS</a> = 0x7FU, 
<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a7f1bd716ad44f22c8b359102c206c0fb">I2S_8_CHANNELS</a> = 0xFFU, 
<br />
&#160;&#160;<a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480a93050a292e0f863d146fc2bb6461505b">I2S_CHANNELS_ALL</a> = 0xFFU
<br />
 }<tr class="memdesc:accc9f53ca7fa3c96306f474cc0ade480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channels used selection.  <a href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:accc9f53ca7fa3c96306f474cc0ade480"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a111a6b44f868cf90f7b25ced9f22ae1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a111a6b44f868cf90f7b25ced9f22ae1b">I2S_close</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a111a6b44f868cf90f7b25ced9f22ae1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to close a given I2S peripheral specified by the I2S handle.  <a href="#a111a6b44f868cf90f7b25ced9f22ae1b">More...</a><br /></td></tr>
<tr class="separator:a111a6b44f868cf90f7b25ced9f22ae1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e8fdf40ee80c49b2cac09a3e428a82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a79e8fdf40ee80c49b2cac09a3e428a82">I2S_init</a> (void)</td></tr>
<tr class="memdesc:a79e8fdf40ee80c49b2cac09a3e428a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initializes the I2S module.  <a href="#a79e8fdf40ee80c49b2cac09a3e428a82">More...</a><br /></td></tr>
<tr class="separator:a79e8fdf40ee80c49b2cac09a3e428a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49305a04152a6fb37a7afceabca642eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb">I2S_open</a> (uint_least8_t index, <a class="el" href="struct_i2_s___params.html">I2S_Params</a> *params)</td></tr>
<tr class="memdesc:a49305a04152a6fb37a7afceabca642eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate.  <a href="#a49305a04152a6fb37a7afceabca642eb">More...</a><br /></td></tr>
<tr class="separator:a49305a04152a6fb37a7afceabca642eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961c116273a6e8d4581278b2666f13b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5">I2S_Params_init</a> (<a class="el" href="struct_i2_s___params.html">I2S_Params</a> *params)</td></tr>
<tr class="memdesc:a961c116273a6e8d4581278b2666f13b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> struct to its defaults.  <a href="#a961c116273a6e8d4581278b2666f13b5">More...</a><br /></td></tr>
<tr class="separator:a961c116273a6e8d4581278b2666f13b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f45de7e62ff3b345dbd22a1e317e8b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a6f45de7e62ff3b345dbd22a1e317e8b0">I2S_Transaction_init</a> (<a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transaction)</td></tr>
<tr class="memdesc:a6f45de7e62ff3b345dbd22a1e317e8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> struct to known state.  <a href="#a6f45de7e62ff3b345dbd22a1e317e8b0">More...</a><br /></td></tr>
<tr class="separator:a6f45de7e62ff3b345dbd22a1e317e8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f18edea4f87b8c16b0fa5ed60a02082"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082">I2S_setReadQueueHead</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle, <a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transaction)</td></tr>
<tr class="memdesc:a3f18edea4f87b8c16b0fa5ed60a02082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the first read-transaction to consider.  <a href="#a3f18edea4f87b8c16b0fa5ed60a02082">More...</a><br /></td></tr>
<tr class="separator:a3f18edea4f87b8c16b0fa5ed60a02082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c5b6f87590e1db5459c3be8d83993f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f">I2S_setWriteQueueHead</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle, <a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transaction)</td></tr>
<tr class="memdesc:a85c5b6f87590e1db5459c3be8d83993f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the first write-transaction to consider.  <a href="#a85c5b6f87590e1db5459c3be8d83993f">More...</a><br /></td></tr>
<tr class="separator:a85c5b6f87590e1db5459c3be8d83993f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd30c0f3e1d047df949d8a00260b2e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5">I2S_startClocks</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a3fd30c0f3e1d047df949d8a00260b2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the WS, SCK and MCLK clocks.  <a href="#a3fd30c0f3e1d047df949d8a00260b2e5">More...</a><br /></td></tr>
<tr class="separator:a3fd30c0f3e1d047df949d8a00260b2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c929c2811ba58180ef57abbb33d3ec5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a3c929c2811ba58180ef57abbb33d3ec5">I2S_stopClocks</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a3c929c2811ba58180ef57abbb33d3ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the WS, SCK and MCLK clocks.  <a href="#a3c929c2811ba58180ef57abbb33d3ec5">More...</a><br /></td></tr>
<tr class="separator:a3c929c2811ba58180ef57abbb33d3ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4631dbd7e6b7480a95c976d03aa69e0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f">I2S_startRead</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a4631dbd7e6b7480a95c976d03aa69e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start read transactions.  <a href="#a4631dbd7e6b7480a95c976d03aa69e0f">More...</a><br /></td></tr>
<tr class="separator:a4631dbd7e6b7480a95c976d03aa69e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a9ed563af3d038541d14f14901ab30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30">I2S_startWrite</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a77a9ed563af3d038541d14f14901ab30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start write transactions.  <a href="#a77a9ed563af3d038541d14f14901ab30">More...</a><br /></td></tr>
<tr class="separator:a77a9ed563af3d038541d14f14901ab30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97bed409bc639d5c7a5e847c5166ab0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0">I2S_stopRead</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:ab97bed409bc639d5c7a5e847c5166ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop read transactions.  <a href="#ab97bed409bc639d5c7a5e847c5166ab0">More...</a><br /></td></tr>
<tr class="separator:ab97bed409bc639d5c7a5e847c5166ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19039189f3d38c849aa8c55008409f31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31">I2S_stopWrite</a> (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td></tr>
<tr class="memdesc:a19039189f3d38c849aa8c55008409f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop write transactions.  <a href="#a19039189f3d38c849aa8c55008409f31">More...</a><br /></td></tr>
<tr class="separator:a19039189f3d38c849aa8c55008409f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3854e487af0042986ad755b9517ff24c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_i2_s___params.html">I2S_Params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_s_8h.html#a3854e487af0042986ad755b9517ff24c">I2S_defaultParams</a></td></tr>
<tr class="memdesc:a3854e487af0042986ad755b9517ff24c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> structure.  <a href="#a3854e487af0042986ad755b9517ff24c">More...</a><br /></td></tr>
<tr class="separator:a3854e487af0042986ad755b9517ff24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9994d996a1bb13482957494f5d9999c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9994d996a1bb13482957494f5d9999c1">&sect;&nbsp;</a></span>I2S_Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_i2_s___config.html">I2S_Config</a>* <a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A handle that is returned from a <a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb" title="Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. ">I2S_open()</a> call. </p>

</div>
</div>
<a id="a011a6a344bae2163e24b811e75c76fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a011a6a344bae2163e24b811e75c76fde">&sect;&nbsp;</a></span>I2S_Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* I2S_Callback) (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle, int_fast16_t status, <a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *transactionPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The definition of a user-callback function used by the I2S driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">I2S_Handle</td><td>I2S_Handle</td></tr>
    <tr><td class="paramname">status</td><td>Status of the operation (possible values are : :I2S_STATUS_SUCCESS, :I2S_STATUS_ERROR, :I2S_STATUS_BUFFER_UNAVAILABLE, :I2S_STATUS_TIMEOUT)</td></tr>
    <tr><td class="paramname"><a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a></td><td>*transactionPtr: Pointer on the transaction that has just started. For error callbacks, transactionPtr points on NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ce338dedc6f90e9b86705ad6a2e3eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce338dedc6f90e9b86705ad6a2e3eea">&sect;&nbsp;</a></span>I2S_RegUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* I2S_RegUpdate) (uint32_t ui32Base, uint32_t ui32NextPointer)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The definition of a function used to set the I2S register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint32_t</td><td>ui32Base: base address of the I2S module.</td></tr>
    <tr><td class="paramname">uint32_t</td><td>ui32NextPointer: pointer on an I2S buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a518f25dc99f76453c3ef7bfdb7fc390c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518f25dc99f76453c3ef7bfdb7fc390c">&sect;&nbsp;</a></span>I2S_StopInterface</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* I2S_StopInterface) (<a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> handle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The definition of a function used to stop an I2S interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">I2S_Handle</td><td>I2S_Handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afc6b50bcb4c5bd0254c5efa0cdc14222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6b50bcb4c5bd0254c5efa0cdc14222">&sect;&nbsp;</a></span>I2S_MemoryLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222">I2S_MemoryLength</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S slot memory length setting. </p>
<p>The enum defines if the module uses a 16 bits or a 24 bits buffer in memory. This value has no influence on the number of bit transmitted. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afc6b50bcb4c5bd0254c5efa0cdc14222a13e1dbc37a214b697892127dd14b39ec"></a>I2S_MEMORY_LENGTH_8BITS&#160;</td><td class="fielddoc"><p>Buffer used is 8 bits length. Not available for CC26XX. </p>
</td></tr>
<tr><td class="fieldname"><a id="afc6b50bcb4c5bd0254c5efa0cdc14222aa95b67ba7278bcb1d9a64cba9a8e1bc8"></a>I2S_MEMORY_LENGTH_16BITS&#160;</td><td class="fielddoc"><p>Buffer used is 16 bits length. </p>
</td></tr>
<tr><td class="fieldname"><a id="afc6b50bcb4c5bd0254c5efa0cdc14222acc56087b412f11af3dc890f066fac0b6"></a>I2S_MEMORY_LENGTH_24BITS&#160;</td><td class="fielddoc"><p>Buffer used is 24 bits length. </p>
</td></tr>
<tr><td class="fieldname"><a id="afc6b50bcb4c5bd0254c5efa0cdc14222a926727054bff1f3cbe2540434d0fab42"></a>I2S_MEMORY_LENGTH_32BITS&#160;</td><td class="fielddoc"><p>Buffer used is 32 bits length. Not available for CC26XX. </p>
</td></tr>
</table>

</div>
</div>
<a id="a54ce68790d113be856f3a6840bc3ebe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ce68790d113be856f3a6840bc3ebe0">&sect;&nbsp;</a></span>I2S_Role</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0">I2S_Role</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S master / slave selection. </p>
<p>The enum defines if the module acts like a master (clocks are internally generated) or a slave (the clocks are externally generated). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a54ce68790d113be856f3a6840bc3ebe0a2e9b49c09201c26bec35c9b854b09e08"></a>I2S_SLAVE&#160;</td><td class="fielddoc"><p>Module is a slave, clocks are externally generated. </p>
</td></tr>
<tr><td class="fieldname"><a id="a54ce68790d113be856f3a6840bc3ebe0a10b52b2d09a9f58e2daeec0f5a392bea"></a>I2S_MASTER&#160;</td><td class="fielddoc"><p>Module is a master, clocks are internally generated. </p>
</td></tr>
</table>

</div>
</div>
<a id="adf99b8155252f529a3089cee99c52a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf99b8155252f529a3089cee99c52a51">&sect;&nbsp;</a></span>I2S_SamplingEdge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51">I2S_SamplingEdge</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S sampling setting. </p>
<p>The enum defines if sampling is done on BLCK rising or falling edges. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adf99b8155252f529a3089cee99c52a51ac2b123abf8d93dc779178fd3ede764eb"></a>I2S_SAMPLING_EDGE_FALLING&#160;</td><td class="fielddoc"><p>Sampling on falling edges. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf99b8155252f529a3089cee99c52a51a54900e14a06cfb9a08de7b1ed2583491"></a>I2S_SAMPLING_EDGE_RISING&#160;</td><td class="fielddoc"><p>Sampling on rising edges. </p>
</td></tr>
</table>

</div>
</div>
<a id="a5d9de87aff52f63eadf4a95560abd61f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9de87aff52f63eadf4a95560abd61f">&sect;&nbsp;</a></span>I2S_PhaseType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61f">I2S_PhaseType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S phase setting. </p>
<p>The enum defines if the I2S if set with single or dual phase. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5d9de87aff52f63eadf4a95560abd61fabe139271fd1177a8b3e81156a966695d"></a>I2S_PHASE_TYPE_SINGLE&#160;</td><td class="fielddoc"><p>Single phase </p>
</td></tr>
<tr><td class="fieldname"><a id="a5d9de87aff52f63eadf4a95560abd61fa0b3e4c2e6cca0317d05ec75b872b34de"></a>I2S_PHASE_TYPE_DUAL&#160;</td><td class="fielddoc"><p>Dual phase </p>
</td></tr>
</table>

</div>
</div>
<a id="a3b6754868d365f8e3ec9b67883bf1a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6754868d365f8e3ec9b67883bf1a7e">&sect;&nbsp;</a></span>I2S_DataInterfaceUse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7e">I2S_DataInterfaceUse</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S data interface configuration. </p>
<p>The enum defines the different settings for the data interfaces (SD0 and SD1). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7eaa745a9c11f2a2d74d1c6d001a32b355b"></a>I2S_SD0_DISABLED&#160;</td><td class="fielddoc"><p>SD0 is disabled </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7eae0e5e7026b88277c279de0e798488e77"></a>I2S_SD0_INPUT&#160;</td><td class="fielddoc"><p>SD0 is an input </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7eab32df02fc78f8a4eabe6efa84fe3b28e"></a>I2S_SD0_OUTPUT&#160;</td><td class="fielddoc"><p>SD0 is an output </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7eaac2fb5fe175b0b96da5c7ea069ae48b6"></a>I2S_SD1_DISABLED&#160;</td><td class="fielddoc"><p>SD1 is disabled </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7eabc860688d07b2022d075448f597d7811"></a>I2S_SD1_INPUT&#160;</td><td class="fielddoc"><p>SD1 is an input </p>
</td></tr>
<tr><td class="fieldname"><a id="a3b6754868d365f8e3ec9b67883bf1a7ea966016f222e7831b399aac26e4b8c7f0"></a>I2S_SD1_OUTPUT&#160;</td><td class="fielddoc"><p>SD1 is an output </p>
</td></tr>
</table>

</div>
</div>
<a id="accc9f53ca7fa3c96306f474cc0ade480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc9f53ca7fa3c96306f474cc0ade480">&sect;&nbsp;</a></span>I2S_ChannelConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480">I2S_ChannelConfig</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channels used selection. </p>
<p>The enum defines different settings to activate the expected channels. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480af29054f891314a79ee5d2b105678fce5"></a>I2S_CHANNELS_NONE&#160;</td><td class="fielddoc"><p>No channel activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a9ae976eea3f03628bac96b3bd5b590a9"></a>I2S_CHANNELS_MONO&#160;</td><td class="fielddoc"><p>MONO: only channel one is activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480ace24478308aa18581ea899b4749e1eee"></a>I2S_CHANNELS_MONO_INV&#160;</td><td class="fielddoc"><p>MONO INVERERTED: only channel two is activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480aa99f621d20e7c434dd8fc6eec81f88f7"></a>I2S_CHANNELS_STEREO&#160;</td><td class="fielddoc"><p>STEREO: channels one and two are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480aef21e0755c603bfa84cfcfb76087a2f9"></a>I2S_1_CHANNEL&#160;</td><td class="fielddoc"><p>1 channel is activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a70296e535a023f5e486d169c56241938"></a>I2S_2_CHANNELS&#160;</td><td class="fielddoc"><p>2 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480acde532a4455d55712113984d1d9d14ee"></a>I2S_3_CHANNELS&#160;</td><td class="fielddoc"><p>3 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a4de908d16fbc3997ca26f9daf0a1ab15"></a>I2S_4_CHANNELS&#160;</td><td class="fielddoc"><p>4 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a4dbc52ac6e50657e77ab1a5663c9bebb"></a>I2S_5_CHANNELS&#160;</td><td class="fielddoc"><p>5 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a6393bde043d2d9a820d0eaae3723390f"></a>I2S_6_CHANNELS&#160;</td><td class="fielddoc"><p>6 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a3d28c1be7347c31842f949fce1b5c245"></a>I2S_7_CHANNELS&#160;</td><td class="fielddoc"><p>7 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a7f1bd716ad44f22c8b359102c206c0fb"></a>I2S_8_CHANNELS&#160;</td><td class="fielddoc"><p>8 channels are activated </p>
</td></tr>
<tr><td class="fieldname"><a id="accc9f53ca7fa3c96306f474cc0ade480a93050a292e0f863d146fc2bb6461505b"></a>I2S_CHANNELS_ALL&#160;</td><td class="fielddoc"><p>All the eight channels are activated </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a111a6b44f868cf90f7b25ced9f22ae1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111a6b44f868cf90f7b25ced9f22ae1b">&sect;&nbsp;</a></span>I2S_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to close a given I2S peripheral specified by the I2S handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb" title="Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. ">I2S_open()</a> had to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle returned from I2S_open</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a49305a04152a6fb37a7afceabca642eb" title="Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. ">I2S_open()</a> </dd></dl>

</div>
</div>
<a id="a79e8fdf40ee80c49b2cac09a3e428a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e8fdf40ee80c49b2cac09a3e428a82">&sect;&nbsp;</a></span>I2S_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initializes the I2S module. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The I2S_config structure must exist and be persistent before this function can be called. This function must also be called before any other I2S driver APIs. This function call does not modify any peripheral registers. </dd></dl>

</div>
</div>
<a id="a49305a04152a6fb37a7afceabca642eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49305a04152a6fb37a7afceabca642eb">&sect;&nbsp;</a></span>I2S_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a> I2S_open </td>
          <td>(</td>
          <td class="paramtype">uint_least8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i2_s___params.html">I2S_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize a given I2S peripheral specified by the particular index value. The parameter specifies which mode the I2S will operate. </p>
<dl class="section pre"><dt>Precondition</dt><dd>I2S controller has been initialized</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">index</td><td>Logical peripheral number for the I2S indexed into the I2S_config table</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Pointer to an parameter block. All the fields in this structure are RO (read-only). Provide a NULL pointer cannot open the module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An I2S_Handle on success or a NULL on an error or if it has been opened already.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a79e8fdf40ee80c49b2cac09a3e428a82" title="Function to initializes the I2S module. ">I2S_init()</a> </dd>
<dd>
<a class="el" href="_i2_s_8h.html#a111a6b44f868cf90f7b25ced9f22ae1b" title="Function to close a given I2S peripheral specified by the I2S handle. ">I2S_close()</a> </dd></dl>

</div>
</div>
<a id="a961c116273a6e8d4581278b2666f13b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961c116273a6e8d4581278b2666f13b5">&sect;&nbsp;</a></span>I2S_Params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_s___params.html">I2S_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">params</td><td>An pointer to <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are: </p><div class="fragment"><div class="line">params.samplingFrequency    = 8000;</div><div class="line">params.memorySlotLength     = <a class="code" href="_i2_s_8h.html#afc6b50bcb4c5bd0254c5efa0cdc14222aa95b67ba7278bcb1d9a64cba9a8e1bc8">I2S_MEMORY_LENGTH_16BITS</a>;</div><div class="line">params.moduleRole           = <a class="code" href="_i2_s_8h.html#a54ce68790d113be856f3a6840bc3ebe0a10b52b2d09a9f58e2daeec0f5a392bea">I2S_MASTER</a>;</div><div class="line">params.trueI2sFormat        = (bool)<span class="keyword">true</span>;</div><div class="line">params.invertWS             = (bool)<span class="keyword">true</span>;</div><div class="line">params.isMSBFirst           = (bool)<span class="keyword">true</span>;</div><div class="line">params.isDMAUnused          = (bool)<span class="keyword">false</span>;</div><div class="line">params.samplingEdge         = <a class="code" href="_i2_s_8h.html#adf99b8155252f529a3089cee99c52a51a54900e14a06cfb9a08de7b1ed2583491">I2S_SAMPLING_EDGE_RISING</a>;</div><div class="line">params.beforeWordPadding    = 0;</div><div class="line">params.bitsPerWord          = 16;</div><div class="line">params.afterWordPadding     = 0;</div><div class="line">params.fixedBufferLength    = 1;</div><div class="line">params.SD0Use               = <a class="code" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eab32df02fc78f8a4eabe6efa84fe3b28e">I2S_SD0_OUTPUT</a>;</div><div class="line">params.SD1Use               = <a class="code" href="_i2_s_8h.html#a3b6754868d365f8e3ec9b67883bf1a7eabc860688d07b2022d075448f597d7811">I2S_SD1_INPUT</a>;</div><div class="line">params.SD0Channels          = <a class="code" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480aa99f621d20e7c434dd8fc6eec81f88f7">I2S_CHANNELS_STEREO</a>;</div><div class="line">params.SD1Channels          = <a class="code" href="_i2_s_8h.html#accc9f53ca7fa3c96306f474cc0ade480aa99f621d20e7c434dd8fc6eec81f88f7">I2S_CHANNELS_STEREO</a>;</div><div class="line">params.phaseType            = <a class="code" href="_i2_s_8h.html#a5d9de87aff52f63eadf4a95560abd61fa0b3e4c2e6cca0317d05ec75b872b34de">I2S_PHASE_TYPE_DUAL</a>;</div><div class="line">params.startUpDelay         = 0;</div><div class="line">params.MCLKDivider          = 40;</div><div class="line">params.readCallback         = NULL;</div><div class="line">params.writeCallback        = NULL;</div><div class="line">params.errorCallback        = NULL;</div><div class="line">params.<a class="code" href="struct_i2_c___params.html#a2416cc06d853e6cc24e1f294dfebb194">custom</a>               = NULL;</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>Parameter structure to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f45de7e62ff3b345dbd22a1e317e8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f45de7e62ff3b345dbd22a1e317e8b0">&sect;&nbsp;</a></span>I2S_Transaction_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_Transaction_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> struct to known state. </p>
<p>The <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> struct is put in a known state. The application is still responsible for populating some of the fields. For example, the user is responsible to provide the buffer containing the data and the size of it. User provided buffer's size must matche with the I2S settings. If the buffer size is not adapted, the I2S module will truncate it. Authorized buffer sizes depend on the number of activated outputs, the number of channels activated, the memory slots length (16 or 24 bits), and the fixed-buffer-size eventually provided. Authorized buffer sizes are all the multiple values of the value of handle-&gt;object-&gt;memoryStepOut.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">transaction</td><td>Transaction struct to initialize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f18edea4f87b8c16b0fa5ed60a02082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f18edea4f87b8c16b0fa5ed60a02082">&sect;&nbsp;</a></span>I2S_setReadQueueHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_setReadQueueHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set the first read-transaction to consider. </p>
<p>At the end of each transaction, I2S driver takes in consideration the next transaction. Application is responsible to handle the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>A pointer to an <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> object. The bufPtr and bufSize fields must be set to a buffer and the size of the buffer before passing to this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a> </dd></dl>

</div>
</div>
<a id="a85c5b6f87590e1db5459c3be8d83993f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c5b6f87590e1db5459c3be8d83993f">&sect;&nbsp;</a></span>I2S_setWriteQueueHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_setWriteQueueHead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i2_s___transaction.html">I2S_Transaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set the first write-transaction to consider. </p>
<p>At the end of each transaction, I2S driver takes in consideration the next transaction. Application is responsible to handle the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>A pointer to an <a class="el" href="struct_i2_s___transaction.html" title="I2S transaction descriptor. ">I2S_Transaction</a> object. The bufPtr and bufSize fields must be set to a buffer and the size of the buffer before passing to this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a> </dd></dl>

</div>
</div>
<a id="a3fd30c0f3e1d047df949d8a00260b2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd30c0f3e1d047df949d8a00260b2e5">&sect;&nbsp;</a></span>I2S_startClocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_startClocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the WS, SCK and MCLK clocks. </p>
<p>This function enable WS, SCK and MCLK (if activated) clocks. This is required before starting any reading or a writing transaction. This function is supposed to be executed both in slave and master mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a3c929c2811ba58180ef57abbb33d3ec5" title="Stops the WS, SCK and MCLK clocks. ">I2S_stopClocks()</a> </dd></dl>

</div>
</div>
<a id="a3c929c2811ba58180ef57abbb33d3ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c929c2811ba58180ef57abbb33d3ec5">&sect;&nbsp;</a></span>I2S_stopClocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_stopClocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the WS, SCK and MCLK clocks. </p>
<p>This function disable WS, SCK and MCLK clocks. This function must be executed only if no transaction is in progress. This function is supposed to be executed in a Task context (NOT in a HWI or Callback context). This function is supposed to be executed both in slave and master mode.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is supposed to be executed in a Task context (NOT in a HWI or Callback context).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a> </dd>
<dd>
<a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a> </dd></dl>

</div>
</div>
<a id="a4631dbd7e6b7480a95c976d03aa69e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4631dbd7e6b7480a95c976d03aa69e0f">&sect;&nbsp;</a></span>I2S_startRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_startRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start read transactions. </p>
<p>This function starts reception of the transactions stored in the read-queue. and returns immediately. At the completion of each transaction the readCallback provided is executed.</p>
<p>If the queue for read transactions becomes empty (i.e. the read Callback is triggered with status <a class="el" href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc" title="Successful status code returned by I2S driver functions. ">I2S_ALL_TRANSACTIONS_SUCCESS</a> and the application has not queued new transactions or defined a new first read-transaction to consider using <a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a>), the driver will stop the read interface on its own in order to avoid the occurrence of errors (such as <a class="el" href="group___i2_s___s_t_a_t_u_s.html#ga50be1b2cc5cef182aff769f626eb6e2f" title="Error status code returned by I2S driver functions. ">I2S_PTR_READ_ERROR</a>).</p>
<dl class="section pre"><dt>Precondition</dt><dd>First read-transaction to consider must be set and clocks must be running before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5" title="Start the WS, SCK and MCLK clocks. ">I2S_startClocks()</a> </dd>
<dd>
<a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a> </dd></dl>

</div>
</div>
<a id="a77a9ed563af3d038541d14f14901ab30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a9ed563af3d038541d14f14901ab30">&sect;&nbsp;</a></span>I2S_startWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_startWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start write transactions. </p>
<p>This function starts transmission of the transactions stored in the write-queue and returns immediately. At the completion of each transaction the write Callback provided is executed.</p>
<p>If the queue for write transactions becomes empty (i.e. the write Callback is triggered with status <a class="el" href="group___i2_s___s_t_a_t_u_s.html#gab6513a393fed75b7c1b507d5ec9047fc" title="Successful status code returned by I2S driver functions. ">I2S_ALL_TRANSACTIONS_SUCCESS</a> and the application has not queued new transactions or defined a new first write-transaction to consider using <a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a>), the driver will stop the write interface on its own in order to avoid the occurrence of errors (such as <a class="el" href="group___i2_s___s_t_a_t_u_s.html#gacb0dde45fe8df930d9914a100fbfcef8" title="Error status code returned by I2S driver functions. ">I2S_PTR_WRITE_ERROR</a>).</p>
<dl class="section pre"><dt>Precondition</dt><dd>First write-transaction to consider must be set and clocks must be running before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a3fd30c0f3e1d047df949d8a00260b2e5" title="Start the WS, SCK and MCLK clocks. ">I2S_startClocks()</a> </dd>
<dd>
<a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a> </dd></dl>

</div>
</div>
<a id="ab97bed409bc639d5c7a5e847c5166ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97bed409bc639d5c7a5e847c5166ab0">&sect;&nbsp;</a></span>I2S_stopRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_stopRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop read transactions. </p>
<p>This function stops the reception of read transactions correctly so that read operations can be safely restarted later.</p>
<p>The application can decide at any time to suspend the reception of data by calling this function. In this case (and because the transaction queue is not empty) the execution of <a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a> is blocked until the current transaction is completed (this ensures that the I2S read interface is correctly stopped). Therefore, this function must be executed in a Task context (not in a HWI or Callback context).</p>
<p>After the transfers have been stopped (either by calling <a class="el" href="_i2_s_8h.html#ab97bed409bc639d5c7a5e847c5166ab0" title="Stop read transactions. ">I2S_stopRead()</a> or because the queue has been empty), the application can resume the transfers using the function <a class="el" href="_i2_s_8h.html#a4631dbd7e6b7480a95c976d03aa69e0f" title="Start read transactions. ">I2S_startRead()</a>. If the read-queue was empty application must beforehand set the first read-transaction using <a class="el" href="_i2_s_8h.html#a3f18edea4f87b8c16b0fa5ed60a02082" title="Function to set the first read-transaction to consider. ">I2S_setReadQueueHead()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a19039189f3d38c849aa8c55008409f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19039189f3d38c849aa8c55008409f31">&sect;&nbsp;</a></span>I2S_stopWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2S_stopWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_i2_s_8h.html#a9994d996a1bb13482957494f5d9999c1">I2S_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop write transactions. </p>
<p>This function stops the transmission of write transactions correctly so that writing operations can be safely restarted later.</p>
<p>The application can decide at any time to suspend the sending of data by calling this function. In this case (and because the transaction queue is not empty) the execution of <a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a> is blocked until the current transaction is completed (this ensures that the I2S write interface is correctly stopped). Therefore, this function must be executed in a Task context (not in a HWI or Callback context).</p>
<p>After the transfers have been stopped (either by calling <a class="el" href="_i2_s_8h.html#a19039189f3d38c849aa8c55008409f31" title="Stop write transactions. ">I2S_stopWrite()</a> or because the queue has been empty), the application can resume the transfers using the function <a class="el" href="_i2_s_8h.html#a77a9ed563af3d038541d14f14901ab30" title="Start write transactions. ">I2S_startWrite()</a>. If the write-queue was empty application must beforehand set the first write-transaction using <a class="el" href="_i2_s_8h.html#a85c5b6f87590e1db5459c3be8d83993f" title="Function to set the first write-transaction to consider. ">I2S_setWriteQueueHead()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>An I2S_Handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3854e487af0042986ad755b9517ff24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3854e487af0042986ad755b9517ff24c">&sect;&nbsp;</a></span>I2S_defaultParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_i2_s___params.html">I2S_Params</a> I2S_defaultParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default <a class="el" href="struct_i2_s___params.html" title="Basic I2S Parameters. ">I2S_Params</a> structure. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_i2_s_8h.html#a961c116273a6e8d4581278b2666f13b5" title="Function to initialize the I2S_Params struct to its defaults. ">I2S_Params_init()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
